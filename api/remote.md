# API Remote Access
Instruction on how to access the APIs remotely either through Jupyter or PyCharm.

## Remote Jupyter Access

### Tradefeedr API Device File

Download link:{attachmentsdir}/tf_api_device.py[tf_api_device.py] from the Tradefeedr library.  

### Instructions

Follow the instructions in the code cell below.

[source, python]
```
```
I have attached a client library to allow you to connect to our API from your local Jupyter.

We use Auth0 for authentication and you must follow the steps for "device flow" in the link below to obtain an access token
( https://auth0.com/docs/flows/device-authorization-flow )

You should import the class and follow these steps:

        0.) Create object tf = TfApiDevice()
        1.) Call tf.request_login()
        2.) Visit the url provided by 1.) in a web browser and authenticate
        3.) Call tf.request_token()
        4.) Call tf.query_api(endpoint="", options={}) function to use API
```
```
### Instructions

Download the remote API access notebook link:{attachmentsdir}/tradefeedr_api_remote_use.ipynb[tradefeedr_api_remote_use.ipynb].
It provides a step by step guide using a Jupyter notebook.

- Step 1 - Import the tf_api_device and request a login

[source, python]
```
from tf_api_device import TfApiDevice
tf_api_device = TfApiDevice()
tf_api_device.request_login()
```
- Step 2 - Now copy the URL link generated and paste into an internet browser. This will load a page showing you that you are now connected

- Step 3 - Now request a token

[source, python]
```
tf_api_device.request_token()
```
- Step 4 - You can now run queries remotely as you would do on the Tradefeedr platform

The image below illustrates how to run the process from a notebook. Also, refer to link:{attachmentsdir}/tradefeedr_api_remote_use.ipynb[tradefeedr_api_remote_use.ipynb]

![remote_python](assets/images/api/remote_python.png)

## Remote PyCharm Access

### Tradefeedr API Device File

It is the same file located in the Remote Python ( Jupyter ) section of this document.

Download link:{attachmentsdir}/tf_api_device.py[tf_api_device.py] from the Tradefeedr library.

### Request Token Files

Download link:{attachmentsdir}/request_token.py[request_token.py] from the Tradefeedr library.

[source, python]
```
```
import time
from tf_api_device import TfApiDevice

def request_token():
    tf_api_object = TfApiDevice()
    print(tf_api_object.request_login())
    for i in range(10):
        print("sleep 10s ( %s / 6 )" % str(1 + i))
        time.sleep(10)
        try:
            tf_api_object.request_token()
            print("Received access token")
            return tf_api_object
        except Exception as e:
            pass

if __name__ == '__main__':
    request_token().export_token()
```
```
### API Query

Download link:{attachmentsdir}/query_api.py[query_api.py] from the Tradefeedr library.

[source, python]
```
```
from tf_api_device import TfApiDevice

tf_api_object = TfApiDevice()
tf_api_object.import_token()

endpoint = "test_success"
options = {}

result = tf_api_object.query_api(endpoint, options)
print(result)
```
```
### Instructions

- Step 1 - Download the Tradefeedr files link:{attachmentsdir}/tf_api_device.py[tf_api_device.py], link:{attachmentsdir}/request_token.py[request_token.py] and link:{attachmentsdir}/query_api.py[query_api.py]. Save the files in the same file path

- Step 2 - Now run the request_token.py file. Copy the URL link generated and paste into an internet browser

- Step 3 - Now enter your one time code on the device activation page (generated by the link in the previous step)

- Step 4 - Click continue on the device activation page. This will now load a page showing you that you are connected

- Step 5 - Your console will now request a token automatically

- Step 6 - Once the token request is completed run the query_api.py file

- Step 7 - You should now see an output in your python console showing that the query was successful. You can modify the query_api.py file to run queries as you would do on the Tradefeedr platform

Illustration below:

![remote_python_pycharm](assets/images/api/remote_python_pycharm.png)